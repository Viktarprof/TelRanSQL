// Напишите следующие запросы к MongoDB (БД "bank"):
//
//(1) найти ко-во завершенных транзакций не в евро на сумму более 100
//
//db.bank.countDocuments(
//        {
//         "is_completed" : true,
//         "currency" : {'$ne':'eur'}
//        }
//)
//(2) для всех пользователей не из Китая и не из Испании увеличить баланс на 20%
//
//db.users.updateMany(
//        {
//            "country" : {'$nin': ["Spain", "China"]}
//        },
//        {
//            '$mul': {
//                    "balance" : 1.2,
//            }
//        }
//)

//(3) разблокировать пользователей, у которых баланс больше нуля или премиальный статус
//
//db.users.updateMany(
//              {
//                '$or':[
//                        {"balance" :  {'gte': 0}},
//                        {'topic': 'premium'}
//                      ]
//               },
//               {
//                '$set':{"is_blocked" : false}
//               }
//          
//)
//(4) найти пользователей из Китая, которые заблокированы и имеют нулевой баланс
//
//db.users.find(
//            {
//                "country":{'$ne':"China"},
//                "is_blocked" : true,
//                "balance" : 0
////                '$and':{"balance" : 0}
//            }
//)
//(5) пользователям не из Китая и не из США, имеющим баланс более 5000, установить статус премиум
//
//db.users.updateMany(
//            {
//                'country' : {"$nin": ['China', "USA"]},
//                 "balance" : {'$gt': 5000}
//            },
//            {
//                '$set': {'status': 'PREMIUM'}
//            }
//)
//(6) Проанализируйте след/запросы
Найти пользователей которые НЕ из Китая И С балансом НЕ меньше 100
db.users.find(
    {
      '$nor': [
          {'country': 'China'},
          {'balance': {'$lt': 100}}
      ]
    }
)

===== CHATGPT =====
Этот запрос выберет всех пользователей из коллекции users, которые не имеют страну "China" и у которых баланс не меньше 100.

Оператор $nor соединяет несколько условий логическим оператором НЕ ИЛИ, что означает, что он будет выбирать документы, которые не удовлетворяют обоим условиям.
Условие {'country': 'China'} исключает пользователей из Китая, а условие {'balance': {'$lt': 100}} исключает пользователей с балансом меньше 100.
Таким образом, данный запрос вернет всех пользователей, у которых страна не равна "China", и баланс больше или равен 100.

Обратите внимание, что запрос может возвращать как пользователей, у которых страна не равна "China", так и пользователей, у которых баланс больше или равен 100, а также пользователей, удовлетворяющих оба условия.
======================================================

Найти пользователей которые не из Китая С балансом больше или равно 100
db.users.find(
    {
        'country': {'$ne': 'China'},
        'balance': {'$gte': 100}
    }
)

===== CHATGPT =====

Этот запрос выберет всех пользователей из коллекции users, которые не имеют страну "China" и у которых баланс больше или равен 100.

Условие 'country': {'$ne': 'China'} выбирает всех пользователей, у которых страна не равна "China".
Условие 'balance': {'$gte': 100} выбирает всех пользователей, у которых баланс больше или равен 100.
Таким образом, данный запрос вернет всех пользователей, у которых страна не равна "China", и баланс больше или равен 100.

Обратите внимание, что запрос может возвращать только тех пользователей, которые удовлетворяют оба условия одновременно. Если пользователь имеет страну "China", то он не будет выбран, даже если у него баланс больше или равен 100. И наоборот, если пользователь имеет страну, отличную от "China", но его баланс меньше 100, то он также не будет выбран.
